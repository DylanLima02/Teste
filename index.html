<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carta + Quiz Dia dos Namorados üíåüíñ</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #fce4ec, #f8bbd0);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
    }

    .pagina {
      width: 100%;
      height: 100vh;
      padding: 20px;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .pagina.ativa {
      display: flex;
    }

    /* Envelope */
    .envelope {
      background: white;
      width: 300px;
      height: 200px;
      border-radius: 12px;
      position: relative;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      border: 2px solid #ddd;
    }
    .envelope::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: #f0f0f0;
      clip-path: polygon(0 0, 50% 100%, 100% 0);
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }
    .coracao {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3em;
      color: #e91e63;
      cursor: pointer;
      z-index: 10;
      transition: transform 0.3s ease;
    }
    .coracao:hover {
      transform: translate(-50%, -50%) scale(1.3);
    }

    /* Carta */
    .carta {
      max-width: 90%;
      max-height: 90vh;
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      overflow-y: auto;
    }
    .carta h1 {
      color: #e91e63;
      margin-bottom: 20px;
    }
    .carta p {
      font-size: 1.1em;
      line-height: 1.6;
      color: #444;
      text-align: justify;
      margin-bottom: 15px;
    }
    .btn-musica {
      margin-top: 20px;
      padding: 12px 25px;
      background: #e91e63;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 1em;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      transition: background 0.3s ease;
    }
    .btn-musica:hover {
      background: #c2185b;
    }
    .carta::-webkit-scrollbar {
      width: 8px;
    }
    .carta::-webkit-scrollbar-thumb {
      background: #f48fb1;
      border-radius: 10px;
    }

    /* Quiz */
    #quiz-container {
      background: white;
      border-radius: 15px;
      padding: 20px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      text-align: center;
    }
    #quiz-container h1 {
      color: #e91e63;
      font-size: 1.5em;
      margin-bottom: 20px;
    }
    .question {
      font-size: 1.2em;
      margin-bottom: 15px;
    }
    .options button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 14px;
      background: #ff6f91;
      border: none;
      border-radius: 10px;
      color: white;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.3s ease, opacity 0.3s ease;
    }
    .options button:hover {
      background: #d94f6e;
    }
    #next-btn {
      margin-top: 20px;
      background: #e91e63;
      padding: 12px 30px;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 1.1em;
      cursor: pointer;
      display: none;
      width: 100%;
    }
    #result {
      font-size: 1.1em;
      margin-top: 20px;
      color: #333;
      text-align: left;
    }
    #result p {
      font-size: 1.2em;
      color: #555;
      line-height: 1.5;
      margin-bottom: 0;
    }
    .retry-btn {
      margin-top: 20px;
      padding: 12px 25px;
      background: #e91e63;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 1em;
      cursor: pointer;
      width: 100%;
      transition: background 0.3s ease;
    }
    .retry-btn:hover {
      background: #c2185b;
    }
  </style>
</head>
<body>

  <!-- P√°gina 1: Envelope -->
  <div class="pagina ativa" id="pagina-envelope">
    <div class="envelope">
      <div class="coracao" onclick="abrirQuiz()">‚ù§Ô∏è</div>
    </div>
    <p style="margin-top: 20px; color: #c62828;">Clique no cora√ß√£o para abrir o quiz üíñ</p>
  </div>

  <!-- P√°gina 2: Quiz -->
  <div class="pagina" id="pagina-quiz">
    <div id="quiz-container">
      <h1>Quiz do Dia dos Namorados üíñ</h1>
      <div class="question"></div>
      <div class="options"></div>
      <button id="next-btn">Pr√≥xima</button>
      <div id="result"></div>
    </div>
  </div>

  <!-- P√°gina 3: Carta -->
  <div class="pagina" id="pagina-carta">
    <div class="carta">
      <h1>Meu amor ‚ù§Ô∏è</h1>

      <p>Oiii, amor da minha vida</p>
      <p>Me arrependo duramente dos momentos que eu n√£o me lembrei, n√£o consegui falar o que sentia, n√£o me esforcei o suficiente ou n√£o insisti mais.</p>
      <p>Eu me esfor√ßo, √© duro ouvir coisas e sentir que n√£o foi o suficiente, mas sei que algumas vezes, talvez muitas, realmente n√£o seja o suficiente. Sou t√£o grato por tua paci√™ncia.</p>
      <p>Sei que tamb√©m tem seus desafios, medos, inseguran√ßas...</p>
      <p>S√≥ queria que soubesse que eu me preocupo, s√≥ n√£o sei como ajudar, ou n√£o consigo expressar isso, mas eu penso e oro muito para saber como posso ajudar de alguma forma, e gra√ßas √† bondade do Senhor √†s vezes d√° certo kkkk, √†s vezes d√° tudo errado, mas faz parte, eu acho kkkk. Espero que algum dia isso possa ser diferente.</p>
      <p>Meu amor por voc√™ n√£o se limita apenas a um "eu te amo", e se eu fosse resumir tudo em uma √∫nica frase talvez fosse: <strong>"Por favor, n√£o v√°."</strong></p>
      <p>Ainda tenho muito pra mudar, mas eu realmente j√° sou outra pessoa. Voc√™ √© privilegiada, viu kkkk ‚Äî ou seria mais correto dizer, voc√™ √© eleita.</p>
      <p>Saiba que voc√™ √© o <strong>MEU AMOR</strong> e que eu te amo mais do que at√© eu mesmo poderia imaginar.</p>

      <p style="margin-top: 20px; font-style: italic;">Com todo o meu amor,<br><strong>Seu Amor üíï</strong></p>

      <a class="btn-musica" href="https://open.spotify.com/playlist/37i9dQZF1DWXbttAJcbphz" target="_blank" rel="noopener noreferrer">
        Deixe a nossa playlist tocar enquanto voc√™ l√™. üéµ
      </a>
    </div>
  </div>

  <script>
    // Fun√ß√£o para ir para o quiz
    function abrirQuiz() {
      document.getElementById('pagina-envelope').classList.remove('ativa');
      document.getElementById('pagina-quiz').classList.add('ativa');
      iniciarQuiz();
    }

    // Dados do Quiz
    const quizData = [
      {
        question: "Qual √© a nossa refei√ß√£o favorita?",
        options: ["Bife lavado", "Pizza", "Sushi", "Mc Donalds"],
        answer: "Sushi"
      },
      {
        question: "Qual era a cor da minha caminha no nosso primeiro encontro?",
        options: ["Preta", "Roxa", "Azul", "Verde"],
        answer: "Preta"
      },
      {
        question: "Qual foi a √∫ltima vez que eu falei que te amo?",
        options: ["Ontem", "Hoje", "+/- 10 minutos atr√°s", "Agorinha"],
        answer: "+/- 10 minutos atr√°s"
      },
      {
        question: "Qual √© a primeira m√∫sica da nossa playlist?",
        options: ["Yellow", "My Love Mine All Mine", "De Todos Os Loucos Do Mundo", "Ora√ß√£o"],
        answer: "My Love Mine All Mine"
      },
      {
        question: "Acho que est√° indo bem, mas vou facilitar... \"Boa tarde\"",
        options: ["Te amo", "Sinto sua falta", "Mais do que ontem, e menos do que amanh√£", "Saudades"],
        answer: "Saudades"
      }
    ];

    // Elementos do quiz
    const questionEl = document.querySelector('#pagina-quiz .question');
    const optionsEl = document.querySelector('#pagina-quiz .options');
    const nextBtn = document.getElementById('next-btn');
    const resultEl = document.getElementById('result');

    let currentQuiz = 0;
    let score = 0;
    let selectedOption = null;
    let attempt = 1;

    function iniciarQuiz() {
      currentQuiz = 0;
      score = 0;
      selectedOption = null;
      attempt = 1;
      nextBtn.style.display = 'none';
      resultEl.innerText = '';
      carregarQuestao();
    }

    function carregarQuestao() {
      attempt = 1;
      selectedOption = null;
      nextBtn.style.display = 'none';
      resultEl.innerText = '';
      questionEl.style.display = 'block';
      optionsEl.style.display = 'block';

      const currentQuizData = quizData[currentQuiz];
      questionEl.innerText = currentQuizData.question;
      optionsEl.innerHTML = '';

      currentQuizData.options.forEach(option => {
        const button = document.createElement('button');
        button.innerText = option;
        button.style.opacity = '1';
        button.style.pointerEvents = 'auto';
        button.addEventListener('click', () => selecionarOpcao(button, option));
        optionsEl.appendChild(button);
      });
    }

    function selecionarOpcao(button, option) {
      if (!selectedOption) {
        selectedOption = option;

        const correctAnswer = quizData[currentQuiz].answer;

        Array.from(optionsEl.children).forEach(btn => {
          btn.style.pointerEvents = 'none';
          btn.style.opacity = btn.innerText === option ? '1' : '0.5';
        });

        if (option === correctAnswer) {
          const pontos = attempt === 1 ? 2 : 1;
          score += pontos;
          resultEl.innerText = `‚úÖ Resposta correta! Voc√™ ganhou ${pontos} ponto${pontos > 1 ? 's' : ''}!`;
          nextBtn.style.display = 'inline-block';
        } else {
          if (attempt === 1) {
            attempt++;
            selectedOption = null;
            resultEl.innerText = "‚ùå Resposta incorreta. Tente mais uma vez!";
            setTimeout(() => {
              resultEl.innerText = '';
              Array.from(optionsEl.children).forEach(btn => {
                btn.style.pointerEvents = 'auto';
                btn.style.opacity = '1';
              });
            }, 1500);
          } else {
            resultEl.innerText = "‚ùå Resposta incorreta. Voc√™ n√£o ganhou pontos.";
            nextBtn.style.display = 'inline-block';
          }
        }
      }
    }

    nextBtn.addEventListener('click', () => {
      currentQuiz++;
      if (currentQuiz < quizData.length) {
        carregarQuestao();
      } else {
        mostrarResultado();
      }
    });

    function mostrarResultado() {
      questionEl.style.display = 'none';
      optionsEl.style.display = 'none';
      nextBtn.style.display = 'none';

      let premio = '';
      let retryButton = '';

      if (score <= 3) {
        premio = "Parab√©ns meu amor, mas voc√™ tem um potencial maior, vamos tentar dnovo?";
        retryButton = `<br><br><button class="retry-btn" onclick="reiniciarQuiz()">Tentar novamente</button>`;
      } else if (score <= 6) {
        premio = "üíå Voc√™ liberou apenas a carta. Ela foi escrita h√° algum tempo, em momentos e per√≠odos diferentes, e gostaria que soubesse disso.";
      } else if (score === 7) {
        premio = "üíå Voc√™ liberou a carta. Ela foi escrita h√° algum tempo, em momentos e per√≠odos diferentes, e gostaria que soubesse disso + R$50.";
      } else if (score === 8) {
        premio = "üíå Voc√™ liberou a carta. Ela foi escrita h√° algum tempo, em momentos e per√≠odos diferentes, e gostaria que soubesse disso + 1 chocolate.";
      } else if (score === 9) {
        premio = "üíå Voc√™ liberou a carta. Ela foi escrita h√° algum tempo, em momentos e per√≠odos diferentes, e gostaria que soubesse disso + 1 Vale encontro.";
      } else if (score === 10) {
        premio = "üíå Voc√™ liberou a carta. Ela foi escrita h√° algum tempo, em momentos e per√≠odos diferentes, e gostaria que soubesse disso + 1 Vale foto.";
      }

      resultEl.innerHTML = `
        <p>
          Voc√™ fez <strong>${score}</strong> de <strong>${quizData.length * 2}</strong> pontos!<br><br>
          ${premio}
        </p>
        ${retryButton}
      `;

      if (score > 3) {
        const btnCarta = document.createElement('button');
        btnCarta.className = 'btn-musica';
        btnCarta.innerText = 'Abrir Carta';
        btnCarta.style.marginTop = '20px'; // bot√£o desce uma linha
        btnCarta.style.display = 'block';
        btnCarta.style.width = '100%';
        btnCarta.onclick = mostrarCarta;
        resultEl.appendChild(btnCarta);
      }
    }

    function reiniciarQuiz() {
      resultEl.innerHTML = '';
      iniciarQuiz();
      questionEl.style.display = 'block';
      optionsEl.style.display = 'block';
      nextBtn.style.display = 'none';
    }

    function mostrarCarta() {
      document.getElementById('pagina-quiz').classList.remove('ativa');
      document.getElementById('pagina-carta').classList.add('ativa');
    }
  </script>
</body>
</html>
